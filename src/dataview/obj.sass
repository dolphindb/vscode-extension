@use './variables'


.obj-result
    overflow-y: auto
    
    position: relative
    
    height: 100%
    
    .table, .vector, .matrix, .dict, .chart
        display: flex
        flex-direction: column
        height: 100%
    
    
    .vector, .table, .matrix
        user-select: text
        
        .pagination
            margin: 2px 0px
            display: flex
            align-items: center
        
        table
            text-align: right
            
            word-break: keep-all
            
            white-space: nowrap
        
        .row-head
            font-weight: bold
            
            // table 中的 height 等价于 min-height: https://stackoverflow.com/questions/19432092/can-i-use-a-min-height-for-table-tr-or-td
            height: 22px
            
        thead
            th.ant-table-cell
                text-align: center
                font-weight: bold
                
            .type
                font-weight: normal
                font-size: 12px
                
            &.ant-table-thead > tr > th
                padding: 4px 8px
    
    
    .chart
        .chart-title
            margin-top: 4px
            text-align: center
        
        .chart-body
            flex: 1
            min-height: 0px
            overflow: hidden
    
    
    .dict
        padding-top: 8px
        
        .table, .vector, .matrix
            .bottom-bar
                padding-left: unset
                position: unset
                border-top: unset
                
            .bottom-bar-placeholder
                display: none
        
        
        .ant-tree-node-content-wrapper
            user-select: text
        
        .ant-tree-show-line .ant-tree-indent-unit::before
            border-right: unset !important
        
        .ant-tree
            transition: unset !important
            
            .ant-tree-node-content-wrapper 
                transition: unset !important
            
            .ant-tree-switcher-noop
                visibility: hidden
                
            .ant-tree-treenode:not(.ant-tree-treenode-disabled)
                .ant-tree-node-content-wrapper:hover
                    color: variables.$tree-node-hover-color
                
            .ant-tree-node-content-wrapper.ant-tree-node-selected
                color: variables.$line-number-foreground-color
                
        .ant-tree-node-content-wrapper.ant-tree-node-selected, .ant-tree-checkbox+span.ant-tree-node-selected
            background-color: unset
        
        .ant-tree-node-content-wrapper:hover, .ant-tree-checkbox+span:hover
            background-color: unset
            
    .tensor
        display: flex
        flex-flow: column
        height: 100%
        overflow: auto
    
    
        .tensor-nav
            display: flex
            align-items: center
            border-bottom: 1px solid variables.$dropdown-active-background-color
    
        .tensor-view
            flex:1
            overflow: auto
            height: 0
    
        .tensor-title
            padding: 4px 0 4px 8px
            cursor: pointer
            height: 100%
            &:hover
                background: variables.$dropdown-active-background-color
    
        .tensor-elem-count
            color: #000000
    
        .type-name
            color: #2d6ebe
    
        .tensor-nav-elem
            cursor: pointer
            padding: 4px 0 4px 2px
            display: flex
            margin-left:2px
            height: 100%
            &:hover
                background: variables.$dropdown-active-background-color
    
        .tensor-elem
            font-family: MyFont, Menlo, "Ubuntu Mono", Consolas, "Dejavu Sans Mono", "Noto Sans Mono", PingFangSC, "Microsoft YaHei", monospace, Consolas, "Courier New", monospace
            cursor: pointer
            width: 100%
            padding: 2px 5px 2px 8px
            &:hover
                background: variables.$dropdown-active-background-color
        
        .tensor-page
            display: flex
            align-items: center
            border-top: 1px solid variables.$dropdown-active-background-color
    
        .tensor-desc
            margin: 0 8px
            font-weight: bold
            line-height: 32px    
    
    
    .bottom-bar
        display: flex
        
        align-items: center
        
        min-height: 0px
        
        width: 100%
        height: 30px
        
        position: absolute
        bottom: 0px
        
        padding-left: 12px
        
        
        .info
            font-size: 16px
            white-space: break-spaces
            flex-shrink: 0
            
            .name
                margin-left: 8px
                font-weight: bold
                
        .actions
            display: flex
            
            flex-shrink: 0
            
            align-items: center
            
            margin-left: 10px
            
            .icon-link, .pause-play
                color: #888888
            
            .icon-link
                margin-right: 10px
                font-size: 28px
            
            .pause-play
                font-size: 20px
    
    
    .bottom-bar-placeholder
        height: 30px
    
    
    .ant-table-wrapper
        flex: 1
        overflow: auto
        
    .ant-tree
        flex: 1
        overflow: auto
    
    // .ant-table
        // 加上下面的会导致 table 下面多渲染 7px，之前加上是为了让 dict 中的表格不要占 100% 的宽度，导致表格顶部的 border 超出表格
        // display: inline-block
        
    // 先去掉为了 vscode 中 dataview 做的修复看看还是否有必要，加上这个 web 里表格左框线特别粗
    // .ant-table-has-fix-left
    //     .ant-table-container
    //         border-inline-start-width: 2px !important
    
    .ant-table-thead > tr > td::before
        content: none !important
    
    .ant-table-thead > tr > th,
    .ant-table-tbody > tr > td,
    .ant-table tfoot > tr > th,
    .ant-table tfoot > tr > td
        padding: 1px 8px
    
    .ant-table-thead > tr > th,
    .ant-table-thead > tr > td
        text-align: center !important
    
    .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table,
    .ant-table.ant-table-bordered > .ant-table-container > .ant-table-header > table
        thead
            position: sticky
            top: 0
            z-index: 3
    
    // 去掉 table-container 顶部多余的分割线，宽度超出了 table 且占了 100% 的宽度
    .ant-table-wrapper .ant-table.ant-table-bordered >.ant-table-container
        border-top: unset
    
    .ant-table-tbody > tr > td
        transition: none
    
    .ant-table table
        width: unset
    
    .ant-empty-normal
        .ant-empty-image
            display: none
    
    
    // 覆盖表格颜色配置，使其能适配 web, vscode 主题
    &.themed
        .default-obj
            color: variables.$font-color
            padding: 10px
            font-size: 20px
            word-wrap: break-word
            
        
        .vector, .table, .matrix
            .row-head
                background-color: variables.$table-head-color !important
                
                border-bottom: 1px solid variables.$border-color !important
                border-right: 1px solid variables.$border-color !important
                
            thead
                .type
                    color: variables.$icon-color !important
            
        .chart
            .chart-title
                color: variables.$font-color !important
        
        .dict
            .ant-tree-show-line .ant-tree-switcher
                background: variables.$background-color
            
            .ant-tree
                color: variables.$font-color
                
                background-color: variables.$background-color
                
                .ant-tree-node-content-wrapper.ant-tree-node-selected
                    background-color: unset !important
                    
                .ant-tree-node-content-wrapper:hover
                    background-color: unset !important
                    
        .bottom-bar
            border-top: 1px solid variables.$border-color
            
            .info
                color: variables.$font-color
                
        .ant-table
            background-color: variables.$background-color !important
        
        .ant-table-thead > tr > th,
        .ant-table-tbody > tr > td,
        .ant-table tfoot > tr > th,
        .ant-table tfoot > tr > td
            color: variables.$font-color
            border-color: variables.$border-color !important
        
        .ant-table-thead > tr > th,
        .ant-table-thead > tr > td
            background-color: variables.$table-head-color !important
            border-color: variables.$border-color !important
        
        .ant-table.ant-table-bordered > .ant-table-container > .ant-table-content > table,
        .ant-table.ant-table-bordered > .ant-table-container > .ant-table-header > table
            border-color: variables.$border-color !important
        
        .ant-table.ant-table-bordered > .ant-table-container
            border-color: variables.$border-color !important
        
        .ant-table-tbody > tr.ant-table-row:hover > td,
        .ant-table-tbody > tr > td.ant-table-cell-row-hover
            background-color: variables.$hover-color !important
        
        .ant-table-tbody > tr.ant-table-placeholder:hover > td
            background-color: variables.$background-color !important
            
        .ant-table-wrapper .ant-table-tbody > tr.ant-table-placeholder
            background-color: variables.$background-color !important
        
        
        .ant-empty-normal
            color: variables.$font-color !important
            
            .ant-empty-img-simple-path, .ant-empty-img-simple-ellipse
                fill: variables.$background-color
            
            .ant-empty-description
                color: variables.$font-color !important


.ant-modal-body
    .export-prompt
        margin-left: 112px
        color: red
        

